# 图片水印工具

一个简单易用的命令行图片水印工具，可以为图片添加基于拍摄时间的水印。

## 功能特点

- 自动读取图片EXIF信息中的拍摄时间
- 支持多种图片格式（JPG、PNG、TIFF、BMP）
- 可自定义水印样式（字体大小、颜色、位置）
- 批量处理整个目录的图片
- 保持原文件不变，输出到单独的子目录

## 安装依赖

```bash
pip install -r requirements.txt
```

## 使用方法

### 方法1：命令行参数
```bash
python watermark_tool.py /path/to/your/images
```

### 方法2：交互式输入
```bash
python watermark_tool.py
```
然后按提示输入图片目录路径。

## 使用流程

1. 运行程序后，输入包含图片的目录路径
2. 程序会扫描目录下的所有支持的图片文件
3. 选择水印设置：
   - 字体大小（建议20-100）
   - 颜色（白色、黑色、红色、蓝色、绿色、黄色）
   - 位置（左上角、左下角、右上角、右下角、中间）
4. 程序自动处理所有图片，添加拍摄日期水印
5. 处理后的图片保存在原目录下的 `_watermark` 子目录中

## 水印内容

水印内容为图片的拍摄日期，格式为 `YYYY-MM-DD`：
- 优先使用EXIF信息中的拍摄时间
- 如果无法获取EXIF时间，则使用文件修改时间
- 如果都无法获取，则使用当前日期

## 支持的图片格式

- JPEG (.jpg, .jpeg)
- PNG (.png)
- TIFF (.tiff)
- BMP (.bmp)

## 示例

```bash
$ python watermark_tool.py ~/Pictures/vacation

找到 15 个图片文件

=== 水印设置 ===
请输入字体大小 (建议20-100): 36

颜色选项:
1. 白色
2. 黑色
3. 红色
4. 蓝色
5. 绿色
6. 黄色
请选择颜色 (1-6): 1

位置选项:
1. 左上角
2. 左下角
3. 右上角
4. 右下角
5. 中间
请选择水印位置 (1-5): 4

处理: IMG_001.jpg (水印: 2024-08-15)
  ✓ 完成
处理: IMG_002.jpg (水印: 2024-08-16)
  ✓ 完成
...

处理完成！成功处理 15/15 个文件
输出目录: ~/Pictures/vacation/_watermark
```

## 注意事项

- 程序会在原图片目录下创建 `_watermark` 子目录
- 原始图片文件不会被修改
- 如果图片没有EXIF信息，会使用文件修改时间
- 建议在处理前备份重要图片